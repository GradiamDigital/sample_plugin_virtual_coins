!function(n){"use strict";n(function(){n(".js-chat-with-gbl").on("click",function(i){i.preventDefault();var t=n(this).attr("href");n.ajax({url:"/wp-admin/admin-ajax.php",method:"POST",data:Object.assign({},{},{action:"addCoinsChat"}),success:function(){setTimeout(function(){window.location.href=t},500)},error:function(){setTimeout(function(){window.location.href=t},500)}})})}),n(function(){n(".js-coins-to-login").each(function(){n(this).on("click",function(){window.location.href=window.location.origin+"/sign-in/?refer=coins"})})}),n(function(){n(".js-coins-checkin-button").on("click",function(i){i.preventDefault();var t=n(this),o=t.data("step"),e=t.data("reward"),a=t.data("nextreward"),c=t.data("balance"),s={};s.step=o,s.reward=e,t.find(".js-coins-checkin-button_text").hide(),t.find(".spinner").show(),n.ajax({url:"/wp-admin/admin-ajax.php",method:"POST",data:Object.assign({},s,{action:"addCoinCheckin"}),success:function(){t.addClass("inactive"),n(".day-"+o).removeClass("active").addClass("completed"),n(".day-"+o).find("span").hide(),n(".day-"+o).find(".coins-checkin-schedule__day__number").show(),n(".day-"+o).append('<img src="'+window.location.origin+'/wp-content/plugins/virtual-coins/public/images/icon_double_tick_brown.svg"/>'),t.find(".js-coins-checkin-button_text").html("Come back tomorrow to get <strong>"+a+" tokens</strong>"),t.find(".spinner").hide(),t.find(".js-coins-checkin-button_text").show(),n(".section-coins-head").find("h3").text(c+e),console.log("success")},error:function(){t.addClass("inactive"),n(".day-"+o).removeClass("active").addClass("completed"),n(".day-"+o).find("span").hide(),n(".day-"+o).append('<img src="'+window.location.origin+'/wp-content/plugins/virtual-coins/public/images/icon_double_tick_brown.svg"/>'),t.find(".js-coins-checkin-button_text").html("Come back tomorrow to get <strong>"+a+" tokens</strong>"),t.find(".spinner").hide(),t.find(".js-coins-checkin-button_text").show(),n(".section-coins-head").find("h3").text(c+e),console.log("error")}})})}),n(function(){n("#cart-coins-redeem").each(function(){var i=n(this),t=i.find("button");t.on("click",function(o){o.preventDefault();var e="";e=t.hasClass("clicked")?"revert":"redeem";var a={};i.find("[name]").each(function(i){a[n(this).attr("name")]=n(this).val()}),t.hasClass("clicked")?t.removeClass("clicked"):t.addClass("clicked"),n.ajax({url:"/wp-admin/admin-ajax.php",method:"POST",data:Object.assign({},a,{operation:e,action:"operateCoinsInCart"}),success:function(){console.log("OK"),location.reload(!0)},error:function(){console.log("error"),location.reload(!0)}})})})}),n(function(){n(".js-cr-nav").each(function(){var i=n(this),t=n("."+i.attr("href"));i.on("click",function(o){o.preventDefault(),n(".js-cr-nav").removeClass("active"),i.addClass("active"),n(".c-report__item").hide(),t.show()})})}),n(function(){n(".js-get-register-tokens").on("click",function(i){i.preventDefault();var t=n(this);t.find("span").hide(),t.find(".spinner").show(),n.ajax({url:"/wp-admin/admin-ajax.php",method:"POST",data:Object.assign({},{},{action:"addRegisterCoins"}),success:function(){setTimeout(function(){location.reload(!0)},500)},error:function(){setTimeout(function(){location.reload(!0)},500)}})})})}(jQuery);